{"version":3,"sources":["../src/Helpers.js"],"names":[],"mappings":"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","file":"Helpers.js","sourcesContent":["\nimport { clone } from \"./DateUtils\";\nimport { getFirstDayOfWeek } from \"./LocaleUtils\";\n\nexport function startOfMonth(d) {\n  const newDate = clone(d);\n  newDate.setDate(1);\n  newDate.setHours(12, 0, 0, 0); // always set noon to avoid time zone issues\n  return newDate;\n}\n\nexport function getFirstDayOfMonth(d) {\n  return new Date(d.getFullYear(), d.getMonth(), 1, 12);\n}\n\nexport function getDaysInMonth(d) {\n  const resultDate = getFirstDayOfMonth(d);\n\n  resultDate.setMonth(resultDate.getMonth() + 1);\n  resultDate.setDate(resultDate.getDate() - 1);\n\n  return resultDate.getDate();\n}\n\nexport function getWeekArray(d, firstDayOfWeek=getFirstDayOfWeek()) {\n  const daysInMonth = getDaysInMonth(d);\n  const dayArray = [];\n\n  let week = [];\n  const weekArray = [];\n\n  for (let i = 1; i <= daysInMonth; i++) {\n    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i, 12));\n  }\n\n  dayArray.forEach((day) => {\n    if(week.length > 0 && day.getDay() === firstDayOfWeek) {\n      weekArray.push(week);\n      week = [];\n    }\n    week.push(day);\n    if (dayArray.indexOf(day) === dayArray.length - 1) {\n      weekArray.push(week);\n    }\n  });\n\n  // unshift days to start the first week\n  const firstWeek = weekArray[0];\n  for (let i = 7 - firstWeek.length; i > 0; i--) {\n    const outsideDate = clone(firstWeek[0]);\n    outsideDate.setDate(firstWeek[0].getDate() - 1);\n    firstWeek.unshift(outsideDate);\n  }\n\n  // push days until the end of the last week\n  const lastWeek = weekArray[weekArray.length - 1];\n  for (let i = lastWeek.length; i < 7; i++) {\n    const outsideDate = clone(lastWeek[lastWeek.length - 1]);\n    outsideDate.setDate(lastWeek[lastWeek.length - 1].getDate() + 1);\n    lastWeek.push(outsideDate);\n  }\n\n  return weekArray;\n\n}\n\nexport function getModifiersForDay(d, modifierFunctions) {\n  const modifiers = [];\n  if (modifierFunctions) {\n    for (const modifier in modifierFunctions) {\n      const func = modifierFunctions[modifier];\n      if (func(d)) {\n        modifiers.push(modifier);\n      }\n    }\n  }\n  return modifiers;\n}\n\nexport function getMonthsDiff(d1, d2) {\n  return d2.getMonth() - d1.getMonth() +\n    (12 * (d2.getFullYear() - d1.getFullYear()));\n}\n"]}